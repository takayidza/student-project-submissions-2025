// @ts-nocheck
const{createApp:createApp}=Vue;createApp({data:()=>({sidebarCollapsed:!1,activeTab:"dashboard",pageTitle:"Dashboard",devices:[{association_id:1,device_serial:"IOT-2023-001",vehicle_id:1,installation_date:"2023-01-15",is_active:!0,last_maintenance:"2023-06-20"},{association_id:2,device_serial:"IOT-2023-002",vehicle_id:2,installation_date:"2023-02-03",is_active:!0,last_maintenance:"2023-07-10"},{association_id:3,device_serial:"IOT-2023-003",vehicle_id:3,installation_date:"2023-02-15",is_active:!1,last_maintenance:"2023-05-20"},{association_id:4,device_serial:"IOT-2023-004",vehicle_id:1,installation_date:"2023-03-01",is_active:!0,last_maintenance:null},{association_id:5,device_serial:"IOT-2023-005",vehicle_id:4,installation_date:"2023-03-12",is_active:!0,last_maintenance:"2023-06-15"}],vehicles:[{vehicle_id:1,vehicle_name:"Truck Alpha"},{vehicle_id:2,vehicle_name:"Truck Beta"},{vehicle_id:3,vehicle_name:"Delivery Van 1"},{vehicle_id:4,vehicle_name:"Delivery Van 2"},{vehicle_id:5,vehicle_name:"Sedan"}],newDevice:{device_serial:"",vehicle_id:"",installation_date:(new Date).toISOString().split("T")[0],is_active:!0,last_maintenance:null},deviceSearchQuery:"",deviceFilter:"all",showEditModal:!1,editingDevice:null}),computed:{activeDevices(){return this.devices.filter((e=>e.is_active)).length},activeDevicesPercentage(){return this.devices.length>0?Math.round(this.activeDevices/this.devices.length*100):0},maintenanceDueCount(){const e=new Date;return e.setDate(e.getDate()-30),this.devices.filter((i=>!i.last_maintenance||new Date(i.last_maintenance)<e)).length},filteredDevices(){let e=[...this.devices];if(this.deviceSearchQuery){const i=this.deviceSearchQuery.toLowerCase();e=e.filter((e=>e.device_serial.toLowerCase().includes(i)||this.getVehicleName(e.vehicle_id).toLowerCase().includes(i)))}if("all"!==this.deviceFilter){const i=new Date;switch(i.setDate(i.getDate()-30),this.deviceFilter){case"active":e=e.filter((e=>e.is_active));break;case"inactive":e=e.filter((e=>!e.is_active));break;case"maintenance":e=e.filter((e=>!e.last_maintenance||new Date(e.last_maintenance)<i))}}return e}},methods:{toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed},setActiveTab(e){this.activeTab=e,this.updatePageTitle()},updatePageTitle(){this.pageTitle={dashboard:"Dashboard",iot:"IoT Devices",vehicles:"Vehicles",alerts:"Alerts",analytics:"Analytics",settings:"Settings"}[this.activeTab]||"Dashboard"},formatDate:e=>e?new Date(e).toLocaleDateString():"N/A",getVehicleName(e){const i=this.vehicles.find((i=>i.vehicle_id===e));return i?i.vehicle_name:"Unknown Vehicle"},addNewDevice(){const e=Math.max(...this.devices.map((e=>e.association_id)),0)+1;this.devices.push({association_id:e,...this.newDevice}),this.newDevice={device_serial:"",vehicle_id:"",installation_date:(new Date).toISOString().split("T")[0],is_active:!0,last_maintenance:null},alert("Device added successfully")},editDevice(e){this.editingDevice=JSON.parse(JSON.stringify(e)),this.showEditModal=!0},updateDevice(){const e=this.devices.findIndex((e=>e.association_id===this.editingDevice.association_id));-1!==e&&(this.devices[e]=this.editingDevice,this.showEditModal=!1,alert("Device updated successfully"))},toggleDeviceStatus(e){const i=this.devices.findIndex((i=>i.association_id===e.association_id));-1!==i&&(this.devices[i].is_active=!this.devices[i].is_active,alert(`Device ${this.devices[i].is_active?"activated":"deactivated"} successfully`))}}}).mount("#app");